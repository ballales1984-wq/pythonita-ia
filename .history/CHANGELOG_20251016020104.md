# Changelog

Tutte le modifiche importanti a Pythonita IA sono documentate qui.

## [3.1.0] - 2025-10-15

### ðŸŽ¨ Visualizzatore 3D Robot - RILASCIO MAGGIORE

#### Aggiunte
- **GUI con Visualizzatore 3D integrato** (`gui_robot_3d.py`)
  - 3 colonne: Comando Italiano | Codice Python | Preview 3D
  - Animazioni in tempo reale
  - Controlli interattivi
  
- **Modelli 3D con Misure Reali** (`visualizzatore/modelli_3d.py`)
  - `ManoRobotica`: 5 dita con dimensioni antropometriche
  - `BraccioRobotico`: Spalla + Gomito + Cinematica diretta
  - `RobotCompleto`: Sistema completo 2 bracci
  - `DimensioniReali`: Misure medie adulto (palmo, dita, braccio)

- **Sistema di Visualizzazione 3D** (`visualizzatore/viewer_3d.py`)
  - `VisualizzatoreMano3D`: Rendering 3D mano con matplotlib
  - `VisualizzatoreBraccio3D`: Rendering 3D braccio
  - Animazioni fluide: apertura, chiusura, pinza, afferra
  - Info in tempo reale: percentuale chiusura, angoli

- **Animazioni Implementate**
  - Apertura mano: 0% â†’ 100% (20 frame)
  - Chiusura pugno: 0% â†’ 100% (20 frame)
  - Posizione pinza: Pollice + Indice (15 frame)
  - Afferra oggetto: Chiusura graduale con forza
  - Alza braccio: Spalla 0Â° â†’ 90Â° (30 frame)
  - Piega gomito: 0Â° â†’ 90Â°

- **Misure Reali**
  ```
  Palmo: 10cm x 8.5cm
  Dita:
    - Pollice: 3.8 + 2.5 + 2.0 = 8.3cm
    - Indice: 4.5 + 2.7 + 2.0 = 9.2cm
    - Medio: 5.0 + 3.0 + 2.2 = 10.2cm
    - Anulare: 4.6 + 2.8 + 2.1 = 9.5cm
    - Mignolo: 3.8 + 2.2 + 1.8 = 7.8cm
  Braccio: 30cm + 25cm = 55cm
  Angoli max: 90Â° (dita), 150Â° (gomito), 180Â° (spalla)
  ```

- **Demo e Documentazione**
  - `demo_visualizzatore_3d.py`: Demo interattiva completa
  - `VISUALIZZATORE_3D.md`: Documentazione dettagliata 14 pagine
  - Esempi d'uso per ogni animazione

#### Miglioramenti
- GUI integrata con threading per animazioni non-bloccanti
- Selezione template tramite radio button
- Bottoni azione: Esegui Animazione | Reset | Salva Codice
- Status bar con feedback in tempo reale
- Esempi rapidi cliccabili

#### Tecnologie
- matplotlib + mpl_toolkits.mplot3d per rendering
- numpy per calcoli cinematici
- threading per animazioni fluide
- tkinter per GUI

#### Caratteristiche Tecniche
- Cinematica diretta per braccio
- Interpolazione angoli per animazioni fluide
- Coordinate 3D precise
- Visualizzazione assi con unitÃ  di misura (cm)
- Vista isometrica configurabile

### Impatto
**ENORME** - Pythonita ora mostra VISIVAMENTE cosa fa il codice generato!
- Studenti capiscono meglio cinematica robotica
- Debug visuale movimenti robot
- Prototipazione rapida con preview
- Da teoria a pratica in secondi

---

## [3.0.0] - 2025-10-15

### Linguaggio Naturale Avanzato

#### Aggiunte
- **Parser Linguistico Avanzato** (`core/linguaggio_naturale.py`)
  - Analisi Soggetto-Verbo-Complemento (SVC)
  - Riconoscimento interrogativi: chi, cosa, quando, dove, come, perchÃ©
  - Identificazione tempo verbale: presente, passato, futuro
  - Identificazione modalitÃ : imperativo, indicativo, condizionale
  - Integrazione spaCy `it_core_news_sm`

- **Sistema Template Domini** (`core/template_domini.py`)
  - Template `robot`: Robot umanoidi senza ruote
  - Template `mano_bionica`: Mani bioniche/protesi
  - Template `generico`: Python normale
  - Comandi specifici per dominio con librerie hardware

- **Comandi Robot**
  - muovi mano destra/sinistra
  - afferra oggetto / rilascia oggetto
  - alza/abbassa braccio
  - leggi sensore distanza/contatto

- **Comandi Mano Bionica**
  - chiudi pugno / apri mano
  - fai pinza
  - gesti: ok, pollice su, punta

#### Modifiche
- `GeneratoreCodice`:
  - Integrato `ParserLinguisticoAvanzato`
  - Integrato `SistemaTemplate`
  - Nuovo metodo `_genera_con_ai_avanzato()` con contesto linguistico
  - Prompt AI arricchito con struttura grammaticale
  
- `core/__init__.py`: Esportati nuovi moduli

#### Esempi
- `examples/esempio_robot.py`: Demo template robotica
- `examples/esempio_linguaggio_naturale.py`: Demo analisi linguistica

---

## [2.3.0] - 2025-10-14

### Multi-Comando

#### Aggiunte
- **Parser Multi-Comando** (`core/multi_comando.py`)
  - `MultiComandoParser`: Identifica pattern multi-comando
  - `CombinatoreCodice`: Combina segmenti in script coerente
  - Pattern supportati: "e poi", "dopo", "e anche", "infine"
  - Separazione logica frasi multiple

- **Generazione Multi-Comando**
  - Identificazione automatica multi-comando in `GeneratoreCodice`
  - Parsing singoli comandi
  - Combinazione con header/footer appropriati
  - Indentazione corretta

#### Esempi
- "chiedi nome e poi stampalo"
- "crea lista poi stampa ogni elemento"
- "leggi file e conta le righe"

---

## [2.2.0] - 2025-10-14

### Espansione Comandi Python

#### Aggiunte
- **Database Comandi Completo** (`core/comandi_python.py`)
  - 143+ comandi Python supportati
  - 3 categorie:
    1. Built-in functions (60+): print, len, range, sum, etc.
    2. Standard library (50+): os, sys, json, datetime, etc.
    3. Operazioni comuni (30+): variabili, cicli, condizioni, etc.
  
- **Sinonimi Italiani Estesi**
  - Ogni comando ha 3-10 sinonimi in italiano
  - Supporto linguaggio naturale colloquiale
  - Es: "stampa" â†’ print, "lunghezza" â†’ len, "intervallo" â†’ range

- **Funzioni Helper**
  - `find_command_by_italian()`: Ricerca fuzzy sinonimi
  - `get_all_commands()`: Lista completa comandi

#### Modifiche
- `GeneratoreCodice._carica_mappa_comandi()`: Usa `COMANDI_PYTHON`
- Maggiore copertura riconoscimento frasi

---

## [2.1.0] - 2025-10-13

### Performance e Sicurezza

#### Aggiunte
- **Sistema di Cache LRU** (`core/cache.py`)
  - Cache in-memory con persistenza su disco JSON
  - LRU (Least Recently Used) eviction
  - Dimensione massima configurabile (default 100)
  - Auto-save ogni 10 modifiche
  - Speedup: **785x-24,000x** su query ripetute!

- **Input Validator** (`core/validator.py`)
  - Validazione lunghezza input (10-500 caratteri)
  - Rilevamento pattern pericolosi:
    - `__import__`, `eval`, `exec`
    - `os.system`, `subprocess`
    - SQL injection patterns
  - Sanitizzazione: rimozione caratteri non-stampabili
  - Ritorna `ValidationResult` con dettagli

- **112 Test Automatici** (directory `tests/`)
  - Unit test: `test_cache.py`, `test_validator.py`, `test_generatore.py`, etc.
  - Integration test: `test_integration.py`
  - Coverage: **74%** (core modules 80%+)
  - CI-ready con pytest e pytest-cov

#### Modifiche
- `GeneratoreCodice`:
  - Parametro `use_cache` (default True)
  - Check cache prima di generare
  - Auto-save in cache dopo generazione
  
- `controllore.py`:
  - Validazione input obbligatoria
  - Sanitizzazione automatica
  - Gestione errori migliorata

#### Performance Benchmarks
```
Query originale: 2350ms (AI)
Query cached:    0.003ms
Speedup:         783,333x

Batch 1000 query:
  - Senza cache: 2,350,000ms
  - Con cache:   100ms (prima) + 3ms (resto)
  - Speedup totale: 22,815x
```

---

## [2.0.0] - 2025-10-12

### Architettura Ibrida AI + Regole

#### Aggiunte
- **Integrazione AI Locale**
  - Supporto Llama3.2 via Ollama
  - Prompt engineering ottimizzato per italiano
  - Timeout e retry automatici
  
- **Sistema Fallback**
  - AI â†’ Regole â†’ Errore
  - Robustezza massima
  
- **Struttura Modular**
  ```
  core/
    - parser.py        (NLP italiano)
    - generatore.py    (logica ibrida)
    - ai_handler.py    (gestione Ollama)
  tests/
    - unit/
    - integration/
  examples/
  ```

- **Logging Strutturato**
  - Livelli: DEBUG, INFO, WARNING, ERROR
  - Log file: `pythonita.log`

#### Miglioramenti
- Consolidamento parsers duplicati
- Config centralizzata
- Error handling robusto
- Documentazione estesa

---

## [1.0.0] - 2025-10-11

### Release Iniziale

#### FunzionalitÃ  Base
- Parser italiano con 15 comandi base
- Interfaccia CLI interattiva
- GUI Tkinter semplice
- Generazione codice con regole

#### Comandi Supportati
- stampa, somma, sottrazione, moltiplicazione
- lista, dizionario, if/else
- ciclo for, ciclo while
- funzione, input

---

## Legenda Versioni

- **MAJOR** (X.0.0): Cambiamenti architetturali, breaking changes
- **MINOR** (x.X.0): Nuove funzionalitÃ , backward compatible
- **PATCH** (x.x.X): Bug fix, miglioramenti minori

---

**Ultima versione stabile**: v3.1.0  
**Prossima release**: v3.2.0 (Mesh 3D avanzati)
